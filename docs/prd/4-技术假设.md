# 4. 技术假设

### 4.1 仓库结构
采用Monorepo结构，统一管理前端、后端和共享库代码，便于代码复用和版本控制。

### 4.2 服务架构
采用Monolith架构，前端Flutter应用直接调用后端API服务，后期根据业务需求考虑微服务拆分。

### 4.3 技术栈选择
- **前端框架**：Flutter 3.13+，支持跨平台开发和良好的性能表现
- **状态管理**：flutter_bloc，提供可预测的状态管理
- **网络请求**：Dio + Retrofit，提供强大的网络请求能力和类型安全
- **数据缓存**：Hive + shared_preferences，支持本地数据持久化
- **图表库**：fl_chart，提供丰富的图表展示能力
- **依赖注入**：get_it，实现松耦合的代码架构

### 4.4 测试要求
采用完整的测试金字塔策略：
- **单元测试**：覆盖率 ≥ 70%，重点测试业务逻辑和数据处理
- **集成测试**：测试API集成和关键用户流程
- **UI测试**：使用Flutter测试框架测试关键界面交互
- **性能测试**：监控应用性能和内存使用情况

### 4.5 部署和运维
- **构建工具**：使用Flutter官方构建工具，支持多平台打包
- **CI/CD**：自动化构建、测试和部署流程
- **监控告警**：集成性能监控和错误追踪工具
- **数据备份**：定期备份用户数据和配置信息

### 4.6 其他技术假设
- API服务基于http://154.44.25.92:8080/自建服务，集成AKShare数据源
- 支持多种基金数据源，具备数据源切换能力
- 实现智能降级机制，确保服务不可用时的用户体验
- 采用响应式设计，适配不同设备和屏幕尺寸
