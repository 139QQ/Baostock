# åº”ç”¨è·¯ç”±æ³¨å†Œæ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†åŸºé€ŸåŸºé‡‘åˆ†æå™¨åº”ç”¨çš„å¯¼èˆªè·¯ç”±é…ç½®ï¼Œç‰¹åˆ«æ˜¯**åŸºé‡‘è‡ªé€‰**å’Œ**æŒä»“åˆ†æ**ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—çš„è·¯ç”±æ³¨å†Œã€‚

## ğŸ—ï¸ å¯¼èˆªæ¶æ„

### ä¸»å¯¼èˆªå®¹å™¨
- **æ–‡ä»¶ä½ç½®**: `lib/src/features/navigation/presentation/pages/navigation_shell.dart`
- **ç»„ä»¶**: `NavigationShell`
- **ç±»å‹**: ä¾§è¾¹æ å¯¼èˆª (NavigationRail)

### è·¯ç”±ç´¢å¼•æ˜ å°„

| ç´¢å¼• | é¡µé¢ç»„ä»¶ | åŠŸèƒ½æè¿° | çŠ¶æ€ | é«˜äº® |
|------|----------|----------|------|------|
| 0 | `DashboardPage` | å¸‚åœºæ¦‚è§ˆ | æ­£å¸¸ | - |
| 1 | `FundExplorationPage` | åŸºé‡‘ç­›é€‰ | æ­£å¸¸ | - |
| **2** | **`WatchlistPage`** | **ğŸŒŸ è‡ªé€‰åŸºé‡‘** | **æ­£å¸¸** | **âœ… åŠ ç²—** |
| **3** | **`PortfolioAnalysisPage`** | **ğŸ“Š æŒä»“åˆ†æ** | **æ­£å¸¸** | **âœ… åŠ ç²—** |
| 4 | `AlertsPage` | è¡Œæƒ…é¢„è­¦ | æ­£å¸¸ | - |
| 5 | `DataCenterPage` | æ•°æ®ä¸­å¿ƒ | æ­£å¸¸ | - |
| 6 | `SettingsPage` | ç³»ç»Ÿè®¾ç½® | æ­£å¸¸ | - |

## ğŸŒŸ æ ¸å¿ƒè·¯ç”±è¯¦æƒ…

### 1. è‡ªé€‰åŸºé‡‘è·¯ç”± (ç´¢å¼• 2)

#### è·¯ç”±é…ç½®
```dart
_buildDestination(
  icon: Icons.star_outline,
  selectedIcon: Icons.star,
  label: 'ğŸŒŸ è‡ªé€‰åŸºé‡‘',
  tooltip: 'ç®¡ç†å…³æ³¨åŸºé‡‘',
  isHighlighted: true, // ğŸ¯ é‡ç‚¹åŠŸèƒ½ - åŠ ç²—æ˜¾ç¤º
),
```

#### é¡µé¢ç»„ä»¶
- **æ–‡ä»¶**: `lib/src/features/fund/presentation/pages/watchlist_page.dart`
- **ç±»å**: `WatchlistPage`
- **åŠŸèƒ½**:
  - âœ… æŸ¥çœ‹å’Œç®¡ç†è‡ªé€‰åŸºé‡‘åˆ—è¡¨
  - âœ… æ·»åŠ /åˆ é™¤è‡ªé€‰åŸºé‡‘
  - âœ… å®æ—¶æ›´æ–°åŸºé‡‘æ•°æ®
  - âœ… åŸºé‡‘æœç´¢å’Œç­›é€‰
  - âœ… æ’åºåŠŸèƒ½
  - âœ… **æ·»åŠ åˆ°æŒä»“** (æ ¸å¿ƒæ•°æ®è”åŠ¨åŠŸèƒ½)

#### æ•°æ®è”åŠ¨
- **åˆ°æŒä»“**: ç‚¹å‡»åŸºé‡‘å¡ç‰‡èœå• â†’ "æ·»åŠ åˆ°æŒä»“" â†’ è‡ªåŠ¨å¯¼èˆªåˆ°æŒä»“åˆ†æé¡µé¢
- **ä»æŒä»“**: å¯é€šè¿‡å¯¼èˆªè¿”å›è‡ªé€‰åŸºé‡‘é¡µé¢

### 2. æŒä»“åˆ†æè·¯ç”± (ç´¢å¼• 3)

#### è·¯ç”±é…ç½®
```dart
_buildDestination(
  icon: Icons.analytics_outlined,
  selectedIcon: Icons.analytics,
  label: 'ğŸ“Š æŒä»“åˆ†æ',
  tooltip: 'åˆ†ææŠ•èµ„ç»„åˆ',
  isHighlighted: true, // ğŸ¯ é‡ç‚¹åŠŸèƒ½ - åŠ ç²—æ˜¾ç¤º
),
```

#### é¡µé¢ç»„ä»¶
- **æ–‡ä»¶**: `lib/src/features/portfolio/presentation/pages/portfolio_analysis_page.dart`
- **ç±»å**: `PortfolioAnalysisPage`
- **åŠŸèƒ½**:
  - âœ… æŒä»“åˆ—è¡¨ç®¡ç†
  - âœ… æ”¶ç›Šåˆ†æè®¡ç®—
  - âœ… æŒä»“æ·»åŠ /ç¼–è¾‘/åˆ é™¤
  - âœ… **ä»è‡ªé€‰å¯¼å…¥** (æ ¸å¿ƒæ•°æ®è”åŠ¨åŠŸèƒ½)
  - âœ… æŠ•èµ„ç»„åˆåˆ†æ

#### æ•°æ®è”åŠ¨
- **ä»è‡ªé€‰**: è‡ªé€‰åŸºé‡‘é¡µé¢ â†’ "æ·»åŠ åˆ°æŒä»“" â†’ è‡ªåŠ¨å¡«å……æŒä»“è¡¨å•
- **æ•°æ®åŒæ­¥**: ä¿æŒè‡ªé€‰åŸºé‡‘ä¸æŒä»“æ•°æ®çš„ä¸€è‡´æ€§

## ğŸ¨ è§†è§‰è®¾è®¡

### åŠ ç²—æ•ˆæœç‰¹æ€§
1. **å­—ä½“åŠ ç²—**: `FontWeight.bold` (vs æ­£å¸¸ `FontWeight.w500`)
2. **å­—ä½“å¤§å°**: `13.0` (vs æ­£å¸¸ `12.0`)
3. **å›¾æ ‡å¤§å°**: æœªé€‰ä¸­ `24px` (vs æ­£å¸¸ `22px`)
4. **é¢œè‰²ä¸»é¢˜**: ä½¿ç”¨ä¸»é¢˜è‰²è¿›è¡Œå¼ºè°ƒ
5. **è¡¨æƒ…ç¬¦å·**: ğŸŒŸ è‡ªé€‰åŸºé‡‘, ğŸ“Š æŒä»“åˆ†æ

### å¯¼èˆªçŠ¶æ€
- **æœªé€‰ä¸­**: åŠ ç²—å­—ä½“ + ä¸»é¢˜è‰²å›¾æ ‡
- **å·²é€‰ä¸­**: é»˜è®¤é€‰ä¸­æ ·å¼ (è¦†ç›–åŠ ç²—æ•ˆæœ)
- **æ‚¬åœ**: Tooltip æç¤ºåŠŸèƒ½æè¿°

## ğŸ”„ æ•°æ®è”åŠ¨å·¥ä½œæµ

### è‡ªé€‰ â†’ æŒä»“ æµç¨‹
```mermaid
graph LR
    A[è‡ªé€‰åŸºé‡‘é¡µé¢] --> B[ç‚¹å‡»åŸºé‡‘èœå•]
    B --> C[é€‰æ‹©"æ·»åŠ åˆ°æŒä»“"]
    C --> D[è‡ªåŠ¨å¯¼èˆªåˆ°æŒä»“é¡µé¢]
    D --> E[é¢„å¡«å……æŒä»“è¡¨å•]
    E --> F[ç¡®è®¤æ·»åŠ æŒä»“]
```

### æŒä»“ â†’ è‡ªé€‰ æµç¨‹
```mermaid
graph LR
    A[æŒä»“åˆ†æé¡µé¢] --> B[ç‚¹å‡»å¯¼èˆªæ ]
    B --> C[é€‰æ‹©"è‡ªé€‰åŸºé‡‘"]
    C --> D[è¿”å›è‡ªé€‰åŸºé‡‘é¡µé¢]
    D --> E[æŸ¥çœ‹/ç®¡ç†è‡ªé€‰åˆ—è¡¨]
```

## ğŸ”§ æŠ€æœ¯å®ç°

### è·¯ç”±å¯¼èˆªæ–¹æ³•
```dart
// é¡µé¢é—´å¯¼èˆª
void _navigateToPortfolioPage() {
  Navigator.of(context).push(
    MaterialPageRoute(
      builder: (context) => const PortfolioAnalysisPage(),
    ),
  );
}

// NavigationShell å†…éƒ¨å¯¼èˆª
void navigateToPage(int index) {
  if (mounted && index >= 0 && index < _pages.length) {
    setState(() {
      _selectedIndex = index;
    });
  }
}
```

### çŠ¶æ€ç®¡ç†
- **WatchlistPage**: ä½¿ç”¨ `FundFavoriteCubit` ç®¡ç†è‡ªé€‰åŸºé‡‘çŠ¶æ€
- **PortfolioAnalysisPage**: ä½¿ç”¨ `PortfolioAnalysisCubit` ç®¡ç†æŒä»“çŠ¶æ€
- **å…±äº«æœåŠ¡**: `FavoriteToHoldingService` å¤„ç†æ•°æ®è½¬æ¢

## ğŸ“± å“åº”å¼è®¾è®¡

### æ¡Œé¢ç«¯
- NavigationRail ä¾§è¾¹æ å¯¼èˆª
- å®Œæ•´å›¾æ ‡ + æ–‡å­—æ ‡ç­¾
- æ‚¬åœæç¤º

### ç§»åŠ¨ç«¯ (æœªæ¥æ”¯æŒ)
- BottomNavigationBar åº•éƒ¨å¯¼èˆª
- ç´§å‡‘å›¾æ ‡å¸ƒå±€
- æ‰‹åŠ¿å¯¼èˆª

## ğŸš€ æ‰©å±•å»ºè®®

### çŸ­æœŸæ”¹è¿›
1. **å¿«æ·é”®æ”¯æŒ**: ä¸ºé‡è¦è·¯ç”±æ·»åŠ é”®ç›˜å¿«æ·é”®
2. **é¢åŒ…å±‘å¯¼èˆª**: åœ¨é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºå¯¼èˆªè·¯å¾„
3. **è·¯ç”±åŠ¨ç”»**: æ·»åŠ é¡µé¢åˆ‡æ¢åŠ¨ç”»æ•ˆæœ

### é•¿æœŸè§„åˆ’
1. **æ·±åº¦é“¾æ¥**: æ”¯æŒç›´æ¥è®¿é—®ç‰¹å®šé¡µé¢
2. **è·¯ç”±å®ˆå«**: æ·»åŠ æƒé™éªŒè¯
3. **å¤šæ ‡ç­¾é¡µ**: æ”¯æŒåŒæ—¶æ‰“å¼€å¤šä¸ªé¡µé¢

## ğŸ“ ç»´æŠ¤è¯´æ˜

### æ·»åŠ æ–°è·¯ç”±
1. åœ¨ `_pages` åˆ—è¡¨ä¸­æ·»åŠ é¡µé¢ç»„ä»¶
2. åœ¨ `destinations` ä¸­æ·»åŠ å¯¹åº”é…ç½®
3. æ›´æ–°æœ¬æ–‡æ¡£çš„è·¯ç”±æ˜ å°„è¡¨

### ä¿®æ”¹è·¯ç”±é¡ºåº
1. è°ƒæ•´ `_pages` åˆ—è¡¨ä¸­çš„ç´¢å¼•
2. æ›´æ–°æ‰€æœ‰å¼•ç”¨è¯¥ç´¢å¼•çš„ä»£ç 
3. æµ‹è¯•å¯¼èˆªåŠŸèƒ½æ˜¯å¦æ­£å¸¸

### æ ·å¼è°ƒæ•´
1. ä¿®æ”¹ `_buildDestination` æ–¹æ³•
2. è°ƒæ•´ `isHighlighted` å‚æ•°
3. æµ‹è¯•è§†è§‰æ•ˆæœ

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-10-22
**ç»´æŠ¤è€…**: åŸºé€ŸåŸºé‡‘åˆ†æå™¨å¼€å‘å›¢é˜Ÿ