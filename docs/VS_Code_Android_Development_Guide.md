# VS Code Androidå¼€å‘æŒ‡å—

## æ¦‚è¿°

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•åœ¨VS Codeä¸­è¿›è¡ŒAndroidåº”ç”¨å¼€å‘ï¼ŒåŒ…æ‹¬è°ƒè¯•é…ç½®ã€å¸¸ç”¨ä»»åŠ¡å’Œæœ€ä½³å®è·µã€‚

## è°ƒè¯•é…ç½® (launch.json)

### ğŸš€ åŸºç¡€è°ƒè¯•é…ç½®

#### 1. Flutter: Android (Auto)
- **åŠŸèƒ½**: è‡ªåŠ¨é€‰æ‹©å¯ç”¨è®¾å¤‡è¿è¡Œ
- **ç”¨é€”**: æœ€ç®€å•çš„å¯åŠ¨æ–¹å¼
- **ç‰¹ç‚¹**: ä¸æŒ‡å®šè®¾å¤‡ï¼Œè®©Flutterè‡ªåŠ¨é€‰æ‹©
- **å¿«æ·é”®**: `F5` æˆ–è°ƒè¯•é¢æ¿é€‰æ‹©

#### 2. Flutter: Android Emulator
- **åŠŸèƒ½**: è¿æ¥åˆ°ç‰¹å®šæ¨¡æ‹Ÿå™¨ (emulator-5554)
- **ç”¨é€”**: é’ˆå¯¹ç‰¹å®šæ¨¡æ‹Ÿå™¨æµ‹è¯•
- **åœºæ™¯**: å¤šæ¨¡æ‹Ÿå™¨ç¯å¢ƒä¸‹çš„ç²¾ç¡®æ§åˆ¶

#### 2. Flutter: Android Emulator
- **åŠŸèƒ½**: è¿æ¥åˆ°ç‰¹å®šæ¨¡æ‹Ÿå™¨ (emulator-5554)
- **ç”¨é€”**: é’ˆå¯¹ç‰¹å®šæ¨¡æ‹Ÿå™¨æµ‹è¯•
- **åœºæ™¯**: å¤šæ¨¡æ‹Ÿå™¨ç¯å¢ƒä¸‹çš„ç²¾ç¡®æ§åˆ¶

### ğŸ”§ é«˜çº§è°ƒè¯•é…ç½®

#### 3. Flutter: Android (Debug Mode)
```json
"args": ["-d", "android", "--debug"]
```
- **åŠŸèƒ½**: å¯ç”¨å®Œæ•´è°ƒè¯•ä¿¡æ¯
- **ç‰¹ç‚¹**: åŒ…å«æ–­ç‚¹ã€å˜é‡æ£€æŸ¥ã€çƒ­é‡è½½

#### 4. Flutter: Android (Profile Mode)
```json
"args": ["-d", "android", "--profile"]
```
- **åŠŸèƒ½**: æ€§èƒ½åˆ†ææ¨¡å¼
- **ç”¨é€”**: åˆ†æåº”ç”¨æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨

#### 5. Flutter: Android (Release Mode)
```json
"args": ["-d", "android", "--release"]
```
- **åŠŸèƒ½**: å‘å¸ƒç‰ˆæœ¬æ¨¡å¼
- **ç‰¹ç‚¹**: ä¼˜åŒ–æ€§èƒ½ï¼Œç§»é™¤è°ƒè¯•ä¿¡æ¯

### ğŸ› ï¸ ç‰¹æ®Šé…ç½®

#### 6. Flutter: Android with Hot Restart
```json
"args": ["-d", "android", "--hot"]
```
- **åŠŸèƒ½**: çƒ­é‡å¯åº”ç”¨
- **ç”¨é€”**: å¿«é€Ÿé‡å¯åº”ç”¨çŠ¶æ€

#### 7. Flutter: Android (No Sound Null Safety)
```json
"args": ["-d", "android", "--no-sound-null-safety"]
```
- **åŠŸèƒ½**: ç¦ç”¨ç©ºå®‰å…¨æ£€æŸ¥
- **ç”¨é€”**: å…¼å®¹æ—§ä»£ç æˆ–ä¾èµ–

## æ„å»ºä»»åŠ¡ (tasks.json)

### ğŸ“± æ„å»ºä»»åŠ¡

#### 1. Flutter: Run Android (Auto Detect)
```bash
flutter run -d android
```

#### 2. Flutter: Build Android APK
```bash
flutter build apk --debug
```
- **è¾“å‡º**: `build/app/outputs/flutter-apk/app-debug.apk`

#### 3. Flutter: Build Android APK (Release)
```bash
flutter build apk --release
```
- **è¾“å‡º**: ä¼˜åŒ–çš„å‘å¸ƒç‰ˆAPK

#### 4. Flutter: Build Android App Bundle
```bash
flutter build appbundle --release
```
- **è¾“å‡º**: Google Play Storeç”¨çš„AABæ–‡ä»¶

### ğŸ”§ è®¾å¤‡ç®¡ç†ä»»åŠ¡

#### 5. Android: Start Emulator
```bash
flutter emulators --launch Pixel_7_API_30
```
- **åŠŸèƒ½**: å¯åŠ¨æŒ‡å®šçš„Androidæ¨¡æ‹Ÿå™¨

#### 6. Android: List Devices
```bash
flutter devices
```
- **åŠŸèƒ½**: æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨è®¾å¤‡

#### 7. Android: List Emulators
```bash
flutter emulators
```
- **åŠŸèƒ½**: æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨æ¨¡æ‹Ÿå™¨

### ğŸ› ï¸ å¼€å‘è¾…åŠ©ä»»åŠ¡

#### 8. Flutter: Clean and Run Android
```bash
flutter clean && flutter pub get && flutter run -d android
```
- **åŠŸèƒ½**: æ¸…ç†å¹¶é‡æ–°è¿è¡ŒAndroidåº”ç”¨

#### 9. Android: ADB Logcat
```bash
adb logcat
```
- **åŠŸèƒ½**: æŸ¥çœ‹Androidç³»ç»Ÿæ—¥å¿—

#### 10. Android: Install APK
```bash
adb install build/app/outputs/flutter-apk/app-debug.apk
```
- **åŠŸèƒ½**: æ‰‹åŠ¨å®‰è£…APKåˆ°è®¾å¤‡

## ä½¿ç”¨æ–¹æ³•

### ğŸ¯ å¯åŠ¨è°ƒè¯•ä¼šè¯

1. **æ–¹æ³•ä¸€**: ä½¿ç”¨ `F5` é”®å¯åŠ¨é»˜è®¤é…ç½®
2. **æ–¹æ³•äºŒ**: `Ctrl+Shift+D` æ‰“å¼€è°ƒè¯•é¢æ¿ï¼Œé€‰æ‹©é…ç½®
3. **æ–¹æ³•ä¸‰**: `Ctrl+Shift+P` â†’ "Debug: Start Debugging"

### ğŸ”§ è¿è¡Œæ„å»ºä»»åŠ¡

1. **æ–¹æ³•ä¸€**: `Ctrl+Shift+P` â†’ "Tasks: Run Task"
2. **æ–¹æ³•äºŒ**: `Ctrl+Shift+B` è¿è¡Œé»˜è®¤æ„å»ºä»»åŠ¡
3. **æ–¹æ³•ä¸‰**: ç»ˆç«¯ä¸­ç›´æ¥è¿è¡Œå‘½ä»¤

### ğŸ“± è®¾å¤‡é€‰æ‹©

```bash
# æŸ¥çœ‹å¯ç”¨è®¾å¤‡
flutter devices

# é€‰æ‹©ç‰¹å®šè®¾å¤‡è¿è¡Œ
flutter run -d <device_id>

# ç¤ºä¾‹
flutter run -d emulator-5554
flutter run -d chrome
flutter run -d windows
```

## è°ƒè¯•æŠ€å·§

### ğŸ› æ–­ç‚¹è°ƒè¯•

1. **è®¾ç½®æ–­ç‚¹**: ç‚¹å‡»è¡Œå·å·¦ä¾§
2. **æ¡ä»¶æ–­ç‚¹**: å³é”® â†’ "Add Conditional Breakpoint"
3. **æ—¥å¿—æ–­ç‚¹**: è¾“å‡ºæ—¥å¿—è€Œä¸æš‚åœæ‰§è¡Œ

### ğŸ” å˜é‡æ£€æŸ¥

1. **å˜é‡é¢æ¿**: è°ƒè¯•æ—¶è‡ªåŠ¨æ˜¾ç¤º
2. **ç›‘è§†è¡¨è¾¾å¼**: æ·»åŠ è‡ªå®šä¹‰ç›‘è§†
3. **è°ƒç”¨å †æ ˆ**: æŸ¥çœ‹æ‰§è¡Œè·¯å¾„

### ğŸš€ çƒ­é‡è½½

1. **ä¿å­˜æ–‡ä»¶**: è‡ªåŠ¨è§¦å‘çƒ­é‡è½½
2. **æ‰‹åŠ¨çƒ­é‡è½½**: `F5` æˆ–å·¥å…·æ æŒ‰é’®
3. **çƒ­é‡å¯**: `Ctrl+Shift+F5`

## å¸¸è§é—®é¢˜è§£å†³

### âŒ è®¾å¤‡è¿æ¥é—®é¢˜

#### é—®é¢˜: æ— æ³•æ‰¾åˆ°Androidè®¾å¤‡
```bash
# è§£å†³æ–¹æ¡ˆ
flutter doctor
flutter devices
adb devices

# é‡å¯ADB
adb kill-server
adb start-server
```

#### é—®é¢˜: "No supported devices found with name or id matching 'android'"
**åŸå› **: Flutterä¸æ”¯æŒ"android"è¿™ä¸ªé€šç”¨è®¾å¤‡æ ‡è¯†ç¬¦

**è§£å†³æ–¹æ¡ˆ**:
1. **ä½¿ç”¨è‡ªåŠ¨æ£€æµ‹**: ä¸æŒ‡å®šè®¾å¤‡ï¼Œè®©Flutterè‡ªåŠ¨é€‰æ‹©
   ```json
   "args": []
   ```
2. **ä½¿ç”¨å…·ä½“è®¾å¤‡ID**: æŒ‡å®šå…·ä½“çš„è®¾å¤‡æ ‡è¯†ç¬¦
   ```json
   "args": ["-d", "emulator-5554"]
   ```
3. **æ£€æŸ¥å¯ç”¨è®¾å¤‡**:
   ```bash
   flutter devices
   ```

#### é—®é¢˜: æ¨¡æ‹Ÿå™¨å¯åŠ¨å¤±è´¥
```bash
# è§£å†³æ–¹æ¡ˆ
flutter emulators --launch <emulator_name>

# æ£€æŸ¥æ¨¡æ‹Ÿå™¨çŠ¶æ€
emulator -list-avds
```

### ğŸ”§ æ„å»ºé—®é¢˜

#### é—®é¢˜: Gradleæ„å»ºå¤±è´¥
```bash
# è§£å†³æ–¹æ¡ˆ
flutter clean
cd android
./gradlew clean
cd ..
flutter pub get
```

#### é—®é¢˜: ä¾èµ–å†²çª
```bash
# è§£å†³æ–¹æ¡ˆ
flutter pub deps
flutter pub upgrade
```

### ğŸ› è°ƒè¯•é—®é¢˜

#### é—®é¢˜: è°ƒè¯•å™¨æ— æ³•è¿æ¥
1. ç¡®ä¿è®¾å¤‡å·²è¿æ¥
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. é‡å¯VS Code

#### é—®é¢˜: çƒ­é‡è½½ä¸å·¥ä½œ
1. æ£€æŸ¥ä»£ç è¯­æ³•é”™è¯¯
2. å°è¯•çƒ­é‡å¯ (`Ctrl+Shift+F5`)
3. å®Œå…¨é‡æ–°å¯åŠ¨åº”ç”¨

## æ€§èƒ½ä¼˜åŒ–

### âš¡ æ„å»ºä¼˜åŒ–

1. **å¢é‡æ„å»º**: Flutterè‡ªåŠ¨æ”¯æŒ
2. **ç¼“å­˜åˆ©ç”¨**: é¿å…é¢‘ç¹æ¸…ç†
3. **å¹¶è¡Œæ„å»º**: Gradleé»˜è®¤å¯ç”¨

### ğŸš€ è¿è¡Œæ—¶ä¼˜åŒ–

1. **Profileæ¨¡å¼**: æ€§èƒ½åˆ†æä½¿ç”¨
2. **Releaseæ¨¡å¼**: å‘å¸ƒå‰æµ‹è¯•
3. **å†…å­˜åˆ†æ**: ä½¿ç”¨Flutter Inspector

## æœ€ä½³å®è·µ

### ğŸ“‹ å¼€å‘æµç¨‹

1. **å¯åŠ¨æ¨¡æ‹Ÿå™¨**: ä½¿ç”¨tasks.jsonä¸­çš„ä»»åŠ¡
2. **è¿è¡Œè°ƒè¯•**: é€‰æ‹©åˆé€‚çš„launché…ç½®
3. **ä»£ç ä¿®æ”¹**: åˆ©ç”¨çƒ­é‡è½½å¿«é€Ÿè¿­ä»£
4. **é—®é¢˜è°ƒè¯•**: ä½¿ç”¨æ–­ç‚¹å’Œæ—¥å¿—åˆ†æ
5. **æ„å»ºæµ‹è¯•**: å®šæœŸæ„å»ºreleaseç‰ˆæœ¬

### ğŸ”§ ç¯å¢ƒç®¡ç†

1. **ä¿æŒæ›´æ–°**: å®šæœŸæ›´æ–°Flutterå’Œä¾èµ–
2. **ç‰ˆæœ¬æ§åˆ¶**: å¿½ç•¥buildç›®å½•
3. **æ–‡æ¡£ç»´æŠ¤**: åŠæ—¶æ›´æ–°é…ç½®æ–‡æ¡£

### ğŸš€ å‘å¸ƒå‡†å¤‡

1. **æµ‹è¯•è¦†ç›–**: å¤šè®¾å¤‡æµ‹è¯•
2. **æ€§èƒ½åˆ†æ**: Profileæ¨¡å¼æ£€æŸ¥
3. **æ„å»ºéªŒè¯**: Releaseæ„å»ºæµ‹è¯•
4. **ç­¾åé…ç½®**: å‘å¸ƒç­¾åè®¾ç½®

## å¿«æ·é”®å‚è€ƒ

| åŠŸèƒ½ | å¿«æ·é”® |
|------|--------|
| å¯åŠ¨è°ƒè¯• | `F5` |
| åœæ­¢è°ƒè¯• | `Shift+F5` |
| é‡æ–°å¯åŠ¨ | `Ctrl+Shift+F5` |
| è¿è¡Œä»»åŠ¡ | `Ctrl+Shift+B` |
| æ‰“å¼€å‘½ä»¤é¢æ¿ | `Ctrl+Shift+P` |
| åˆ‡æ¢æ–­ç‚¹ | `F9` |
| å•æ­¥æ‰§è¡Œ | `F10` |
| å•æ­¥è·³å…¥ | `F11` |

## ğŸš€ ä¸€é”®å¯åŠ¨Androidæ¨¡æ‹Ÿå™¨

### â­ æ¨èå·¥ä½œæµ

#### **æ–¹å¼ä¸€ï¼šæ™ºèƒ½å¯åŠ¨ï¼ˆæ¨èï¼‰**
1. **æŒ‰ `F5`** - è‡ªåŠ¨å¯åŠ¨æ¨¡æ‹Ÿå™¨å¹¶è¿è¡Œåº”ç”¨
2. **ç³»ç»Ÿä¼šè‡ªåŠ¨**ï¼š
   - å¯åŠ¨Pixel 7æ¨¡æ‹Ÿå™¨
   - ç­‰å¾…45ç§’å¯åŠ¨å®Œæˆ
   - è‡ªåŠ¨è¿è¡ŒFlutteråº”ç”¨

#### **æ–¹å¼äºŒï¼šåˆ†æ­¥å¯åŠ¨**
1. **`Ctrl+F5`** - å¯åŠ¨æ¨¡æ‹Ÿå™¨
2. **`F5`** - è¿è¡Œåº”ç”¨

#### **æ–¹å¼ä¸‰ï¼šä»»åŠ¡æ–¹å¼**
1. **`Ctrl+Shift+P`** â†’ "Tasks: Run Task"
2. **é€‰æ‹©"Android: Launch & Run (Smart)"**

### ğŸ“± å¯ç”¨ä»»åŠ¡

| ä»»åŠ¡åç§° | åŠŸèƒ½æè¿° | å¿«æ·é”® |
|----------|----------|--------|
| **Android: Launch & Run (Smart)** | ä¸€é”®å¯åŠ¨å¹¶è¿è¡Œ | `F5` |
| **Android: Start Emulator (Pixel 7)** | å¯åŠ¨Pixel 7æ¨¡æ‹Ÿå™¨ | `Ctrl+F5` |
| **Android: Start Emulator (Pixel 4a)** | å¯åŠ¨Pixel 4aæ¨¡æ‹Ÿå™¨ | - |
| **Android: List Devices** | æŸ¥çœ‹è®¾å¤‡çŠ¶æ€ | `Ctrl+Shift+F5` |
| **Flutter: Run Android (Smart)** | ä»…è¿è¡Œåº”ç”¨ | - |

### âŒ¨ï¸ è‡ªå®šä¹‰å¿«æ·é”®

å·²é…ç½®ä»¥ä¸‹å¿«æ·é”®ï¼ˆ`.vscode/keybindings.json`ï¼‰ï¼š

```json
[
    {
        "key": "f5",
        "command": "workbench.action.tasks.runTask",
        "args": "Android: Launch & Run (Smart)"
    },
    {
        "key": "ctrl+f5",
        "command": "workbench.action.tasks.runTask",
        "args": "Android: Start Emulator (Pixel 7)"
    },
    {
        "key": "ctrl+shift+f5",
        "command": "workbench.action.tasks.runTask",
        "args": "Android: List Devices"
    }
]
```

## æ›´æ–°æ—¥å¿—

### 2025-11-04 (æ–°å¢)
- âœ… **ä¸€é”®å¯åŠ¨åŠŸèƒ½** - è‡ªåŠ¨å¯åŠ¨æ¨¡æ‹Ÿå™¨å¹¶è¿è¡Œåº”ç”¨
- âœ… **æ™ºèƒ½ä»»åŠ¡** - æ‰¹å¤„ç†è„šæœ¬å¤„ç†å¯åŠ¨æµç¨‹
- âœ… **è‡ªå®šä¹‰å¿«æ·é”®** - F5æ™ºèƒ½å¯åŠ¨ï¼ŒCtrl+F5ä»…å¯åŠ¨æ¨¡æ‹Ÿå™¨
- âœ… **å¤šæ¨¡æ‹Ÿå™¨æ”¯æŒ** - æ”¯æŒPixel 7å’ŒPixel 4a
- âœ… **çŠ¶æ€æ£€æŸ¥** - è‡ªåŠ¨æ£€æµ‹è®¾å¤‡å’Œæ¨¡æ‹Ÿå™¨çŠ¶æ€

### 2025-11-04
- âœ… æ·»åŠ å®Œæ•´çš„Androidè°ƒè¯•é…ç½®
- âœ… åˆ›å»ºå¤šæ ·åŒ–çš„æ„å»ºä»»åŠ¡
- âœ… é…ç½®è®¾å¤‡ç®¡ç†å’Œè¾…åŠ©ä»»åŠ¡
- âœ… æä¾›è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œæœ€ä½³å®è·µ