# 技术栈分析

## 项目概览
**项目名称：** 基速基金量化分析平台 (jisu_fund_analyzer)
**版本：** 0.5.5
**架构模式：** Clean Architecture + BLoC Pattern
**目标平台：** Windows 桌面应用

## 核心技术栈

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **UI框架** | Flutter | >=3.13.0 | 用户界面 | 跨平台桌面应用开发 |
| **编程语言** | Dart | >=3.1.0 <4.0.0 | 应用开发 | 类型安全的现代语言 |
| **状态管理** | flutter_bloc | 9.1.1 | 状态管理 | BLoC模式，业务逻辑与UI分离 |
| **状态管理** | bloc | 9.0.0 | 状态管理 | BLoC核心库 |
| **函数式编程** | dartz | 0.10.1 | 函数式工具 | Either, Option等类型 |
| **对象比较** | equatable | 2.0.5 | 对象比较 | 简化值对象比较 |

## 数据层技术

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **本地数据库** | hive | 2.2.3 | 主要缓存 | 轻量级NoSQL数据库 |
| **Hive集成** | hive_flutter | 1.1.0 | Flutter集成 | Hive的Flutter支持 |
| **简单存储** | shared_preferences | 2.2.2 | 键值存储 | 用户偏好设置 |
| **企业数据库** | postgres | 2.6.1 | SQL Server | 企业级数据存储 |
| **文件路径** | path_provider | 2.1.1 | 路径管理 | 跨平台文件路径 |
| **路径工具** | path | 1.8.3 | 路径操作 | 文件路径处理 |

## 网络层技术

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **HTTP客户端** | dio | 5.3.0 | 网络请求 | 支持拦截器、缓存、压缩 |
| **HTTP缓存** | dio_http_cache_lts | 0.4.2 | 请求缓存 | 网络请求缓存机制 |
| **API客户端** | retrofit | 4.0.3 | 类型安全API | 声明式API客户端 |
| **HTTP基础** | http | 1.1.0 | HTTP协议 | 底层HTTP支持 |
| **JSON序列化** | json_annotation | 4.8.1 | JSON处理 | 编译时JSON序列化 |

## UI组件库

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **图表库** | fl_chart | 0.55.2 | 数据可视化 | 金融图表展示 |
| **动画库** | flutter_animate | 4.1.0 | 动画效果 | 丰富的动画效果 |
| **加载动画** | shimmer | 3.0.0 | 骨架屏 | 优雅的加载效果 |
| **字体** | google_fonts | 6.1.0 | 字体样式 | Google字体集成 |
| **系统图标** | cupertino_icons | 1.0.6 | 图标 | iOS风格图标 |
| **动画集** | animations | 2.0.8 | 动画工具 | 预定义动画效果 |

## 专业计算

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **高精度计算** | decimal | 2.3.3 | 金融计算 | 避免浮点数精度问题 |

## 开发工具

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **依赖注入** | get_it | 8.2.0 | 服务定位 | 依赖注入容器 |
| **代码生成** | build_runner | 2.4.9 | 代码生成 | 自动化代码生成 |
| **加密工具** | crypto | 3.0.3 | 加密解密 | 安全相关的加密操作 |
| **日志记录** | logger | 2.0.2+1 | 日志系统 | 结构化日志记录 |
| **元数据** | meta | 1.9.1 | 元数据注解 | 编译时元数据支持 |

## 国际化支持

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **Flutter国际化** | flutter_localizations | SDK | 国际化 | Flutter内置国际化 |
| **国际化格式化** | intl | 0.18.1 | 格式化 | 日期、数字格式化 |
| **拼音搜索** | pinyin | 3.0.0 | 中文搜索 | 拼音搜索支持 |

## 设备信息

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **网络状态** | connectivity_plus | 5.0.1 | 网络检测 | 网络连接状态监控 |
| **电池信息** | battery_plus | 4.0.2 | 电池状态 | 设备电池信息 |
| **集合工具** | collection | 1.17.2 | 集合操作 | 扩展的集合工具 |

## 开发依赖

| 类别 | 技术 | 版本 | 用途 | 说明 |
|------|------|------|------|------|
| **测试框架** | flutter_test | SDK | 单元测试 | Flutter测试框架 |
| **BLoC测试** | bloc_test | 10.0.0 | 状态测试 | BLoC状态测试 |
| **代码检查** | flutter_lints | 4.0.0 | 代码规范 | Dart代码规范检查 |
| **JSON生成** | json_serializable | 6.7.0 | JSON代码生成 | 编译时JSON序列化代码生成 |
| **Retrofit生成** | retrofit_generator | 8.2.1 | API代码生成 | Retrofit API代码生成 |
| **Hive生成** | hive_generator | 2.0.1 | 模型代码生成 | Hive模型代码生成 |
| **Freezed** | freezed | 2.4.7 | 不可变类 | 生成不可变数据类 |
| **Freezed注解** | freezed_annotation | 2.4.1 | Freezed注解 | Freezed编译时注解 |
| **Mock框架** | mockito | 5.4.4 | 模拟对象 | 单元测试模拟对象 |

## 架构模式

### 设计模式
- **Clean Architecture**: 分层架构，关注点分离
- **BLoC Pattern**: 业务逻辑与UI分离的状态管理模式
- **Repository Pattern**: 数据访问层抽象
- **Dependency Injection**: 依赖注入，松耦合设计
- **Service Locator**: GetIt服务定位器模式

### 数据流模式
- **CQRS**: 命令查询责任分离
- **Event-Driven**: 事件驱动架构
- **Observer Pattern**: 观察者模式（BLoC核心）

## 项目特色

### 1. 专业金融计算
- 使用Decimal库确保金融计算精度
- 支持高精度数值运算
- 避免浮点数精度问题

### 2. 多级缓存策略
- L1: 内存缓存（毫秒级访问）
- L2: Hive本地缓存（快速持久化）
- L3: PostgreSQL企业级缓存

### 3. 智能状态管理
- BLoC模式确保状态一致性
- 全局Cubit管理器处理跨页面状态
- 状态持久化机制

### 4. 高性能网络层
- Dio支持HTTP/2和gzip压缩
- 智能缓存策略减少网络请求
- 异步JSON解析提升性能

### 5. 智能组件系统
- 基于设备性能的自适应组件
- 微交互和手势支持
- 完整的无障碍性支持

## 技术选型理由

### Flutter桌面应用
- **跨平台**: 一套代码支持Windows、macOS、Linux
- **高性能**: 原生编译，接近原生性能
- **丰富生态**: 大量高质量的第三方库
- **开发效率**: 热重载、快速开发周期

### BLoC状态管理
- **可预测性**: 明确的状态流转
- **可测试性**: 业务逻辑与UI完全分离
- **可维护性**: 清晰的架构分层
- **可扩展性**: 易于添加新功能

### Hive数据库
- **高性能**: 比SQLite更快，特别适合Flutter
- **轻量级**: 无需额外服务器配置
- **类型安全**: 编译时类型检查
- **易用性**: 简单直观的API

### Dio网络库
- **功能丰富**: 拦截器、缓存、重试机制
- **性能优化**: HTTP/2、连接池、请求压缩
- **类型安全**: 与Retrofit结合提供类型安全的API
- **错误处理**: 完善的错误处理机制