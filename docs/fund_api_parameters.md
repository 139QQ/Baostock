# 基金数据API参数文档

基于AKShare官方文档整理的基金数据接口参数说明。
在 Akshare 中处理多个参数时，核心规则是通过URL 参数拼接的方式传递，遵循 “键值对 + 分隔符” 的逻辑，具体方法如下：
一、多参数传递的通用规则
基础格式
在接口的基础 URL 后，用 ? 开头，后续按 参数名1=参数值1&参数名2=参数值2&... 的格式拼接多个参数。
每个参数需严格对应接口定义的输入参数名称（如 symbol、indicator 等）。
参数值直接填写具体内容，无需添加引号（无论字符串还是数值类型）。
二、实例说明（以基金接口为例）
以 fund_info_index_em 接口为例（该接口需传入 symbol 和 indicator 两个参数）：
接口定义的输入参数：symbol（如 “沪深指数”“行业主题”）、indicator（如 “增强指数型”“被动指数型”）。
若需同时指定 symbol="沪深指数" 和 indicator="增强指数型"，对应的 URL 为：
```http
http://127.0.0.1:8080/api/public/fund_info_index_em?symbol=沪深指数&indicator=增强指数型
```
三、更多参数的扩展逻辑
若接口有 3 个及以上参数（如假设某接口需传入 a、b、c 三个参数），只需继续用 & 拼接：
```http
http://127.0.0.1:8080/api/public/接口名?a=值1&b=值2&c=值3
```
关键注意事项：
参数名称必须与接口文档中定义的输入参数名完全一致（区分大小写）。
参数值需符合接口允许的范围（如 fund_info_index_em 的 symbol 只能选 “全部”“沪深指数” 等选项，不可随意输入）。
若参数值包含特殊字符（如空格、中文），URL 会自动编码（无需手动处理），例如 “行业主题” 会被编码为 %E8%A1%8C%E4%B8%E4%B8%E9%A2%98，但使用时直接写原始值即可。
## 基础信息
- **API基础地址**: `http://154.44.25.92:8080/api/public/`
- **数据格式**: JSON
- **请求方式**: GET
- **编码**: UTF-8

## 可用接口列表

### 1. 获取基金列表
- **接口地址**: `fund_name_em`
- **HTTP方法**: GET
- **参数**: 无
- **返回数据**:
  ```json
  [
    {
      "基金简称": "易方达蓝筹精选混合",
      "基金代码": "005827",
      "基金类型": "混合型",
      "日期": "2024-01-15"
    }
  ]
  ```

### 2. 获取基金排行
- **接口地址**: `fund_open_fund_rank_em`
- **HTTP方法**: GET
- **必需参数**:
  - `symbol` (string): 基金类型，可选值：
    - `"全部"` - 全部基金
    - `"股票型"` - 股票型基金
    - `"混合型"` - 混合型基金
    - `"债券型"` - 债券型基金
    - `"指数型"` - 指数型基金
    - `"QDII"` - QDII基金
    - `"LOF"` - LOF基金
    - `"FOF"` - FOF基金
- **返回数据**:
  ```json
  [
    {
      "基金代码": "005827",
      "基金简称": "易方达蓝筹精选混合",
      "单位净值": "2.1234",
      "日增长率": "1.23%",
      "近1年": "15.67%",
      "近3年": "28.90%",
      "成立来": "112.34%",
      "手续费": "1.50%"
    }
  ]
  ```

### 3. 获取基金实时行情
- **接口地址**: `fund_open_fund_daily_em`
- **HTTP方法**: GET
- **参数**: 无
- **返回数据**:
  ```json
  [
    {
      "基金代码": "基金代码",
      "基金简称": "基金简称",
      "单位净值": "最新净值",
      "累计净值": "累计净值",
      "日增长率": "日涨跌幅"
    }
  ]
  ```

### 4. 获取ETF实时行情
- **接口地址**: `fund_etf_spot_em`
- **HTTP方法**: GET
- **参数**: 无
- **返回数据**:
  ```json
  [
    {
      "基金代码": "510300",
      "基金简称": "华泰柏瑞沪深300ETF",
      "最新价": "4.123",
      "涨跌额": "0.045",
      "涨跌幅": "1.10%",
      "成交量": "1234567"
    }
  ]
  ```

### 5. 获取基金申购状态
- **接口地址**: `fund_purchase_em`
- **HTTP方法**: GET
- **参数**: 无
- **返回数据**:
  ```json
  [
    {
      "基金代码": "基金代码",
      "基金简称": "基金简称",
      "申购状态": "开放申购",
      "赎回状态": "开放赎回"
    }
  ]
  ```

### 6. 获取基金持仓信息
- **接口地址**: `fund_portfolio_hold_em`
- **HTTP方法**: GET
- **必需参数**:
  - `symbol` (string): 基金代码，例如："005827"
  - `date` (string): 报告期，格式："2024"
- **返回数据**:
  ```json
  [
    {
      "股票代码": "000858",
      "股票名称": "五粮液",
      "占净值比例": "9.87%",
      "持股数": "1234567",
      "持仓市值": "123456789"
    }
  ]
  ```

### 7. 获取基金历史净值
- **接口地址**: `fund_open_fund_info_em`
- **HTTP方法**: GET
- **必需参数**:
  - `symbol` (string): 基金代码，例如："005827"
- **可选参数**:
  - `indicator` (string): 数据类型，可选值：
    - `"单位净值走势"` - 单位净值走势
    - `"累计净值走势"` - 累计净值走势
    - `"日增长率"` - 日增长率
    - `"单位净值"` - 单位净值数据
- **返回数据**:
  ```json
  [
    {
      "净值日期": "2024-01-15",
      "单位净值": "2.1234",
      "累计净值": "2.1234",
      "日增长率": "1.23%"
    }
  ]
  ```

### 8. 获取基金经理信息
- **接口地址**: `fund_manager_em`
- **HTTP方法**: GET
- **参数**: 无
- **返回数据**:
  ```json
  [
    {
      "基金经理": "张坤",
      "所属公司": "易方达基金",
      "管理数量": "5",
      "管理规模": "1234.56亿",
      "从业时间": "10年"
    }
  ]
  ```

## 错误处理

### HTTP状态码
- `200`: 请求成功
- `400`: 参数错误
- `404`: 接口不存在
- `500`: 服务器内部错误
- `503`: 服务暂时不可用

### 错误响应格式
```json
{
  "error": "错误描述",
  "code": "错误代码",
  "timestamp": "2024-01-15T10:30:00Z"
}
```

## 使用示例

### Dart调用示例
```dart
import 'dart:convert';
import 'package:http/http.dart' as http;

// 获取基金列表
Future<List<dynamic>> getFundList() async {
  final response = await http.get(
    Uri.parse('http://154.44.25.92:8080/api/public/fund_name_em'),
    headers: {'Accept': 'application/json'},
  );
  
  if (response.statusCode == 200) {
    return json.decode(response.body);
  } else {
    throw Exception('Failed to load fund list');
  }
}

// 获取特定类型基金排行
Future<List<dynamic>> getFundRanking(String type) async {
  final response = await http.get(
    Uri.parse('http://154.44.25.92:8080/api/public/fund_open_fund_rank_em?symbol=$type'),
    headers: {'Accept': 'application/json'},
  );
  
  if (response.statusCode == 200) {
    return json.decode(response.body);
  } else {
    throw Exception('Failed to load fund ranking');
  }
}
```

## 注意事项
1. 所有时间参数请使用ISO 8601格式
2. 基金代码必须为6位数字字符串
3. 建议设置请求超时时间为10-30秒
4. 大批量数据获取请分批处理，避免内存溢出
5. 建议实现重试机制处理网络异常

## 更新记录
- v1.0.0: 初始版本，包含基础基金接口
- v1.0.1: 添加错误处理说明
- v1.0.2: 更新参数验证规则