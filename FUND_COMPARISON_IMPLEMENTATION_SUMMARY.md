# åŸºé‡‘å¤šç»´å¯¹æ¯”åŠŸèƒ½å®ç°æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æˆåŠŸå®ç°äº†Baostockåº”ç”¨çš„åŸºé‡‘å¤šç»´å¯¹æ¯”åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›äº†ä¸“ä¸šçº§çš„åŸºé‡‘åˆ†æå’Œå¯¹æ¯”å·¥å…·ã€‚è¯¥åŠŸèƒ½å…è®¸ç”¨æˆ·å¯¹æ¯”2-5åªåŸºé‡‘åœ¨ä¸åŒæ—¶é—´æ®µçš„è¡¨ç°ï¼ŒåŒ…å«ä¸°å¯Œçš„åˆ†ææŒ‡æ ‡å’Œå¯è§†åŒ–å±•ç¤ºã€‚

## å®ç°çš„åŠŸèƒ½

### âœ… æ ¸å¿ƒåŠŸèƒ½

1. **å¤šåŸºé‡‘å¯¹æ¯”**
   - æ”¯æŒ2-5åªåŸºé‡‘åŒæ—¶å¯¹æ¯”
   - å®æ—¶æ•°æ®è·å–å’Œå¤„ç†
   - å¤šæ—¶é—´æ®µåˆ†æï¼ˆ1ä¸ªæœˆã€3ä¸ªæœˆã€6ä¸ªæœˆã€1å¹´ã€3å¹´ï¼‰
   - å¤šç»´åº¦æŒ‡æ ‡å¯¹æ¯”

2. **ç”¨æˆ·ç•Œé¢ç»„ä»¶**
   - å¯¹æ¯”é€‰æ‹©å™¨ (`ComparisonSelector`)
   - å¯¹æ¯”è¡¨æ ¼ (`ComparisonTable`)
   - ç»Ÿè®¡åˆ†æç»„ä»¶ (`ComparisonStatistics`)
   - ä¸»è¦å¯¹æ¯”é¡µé¢ (`FundComparisonPage`)

3. **çŠ¶æ€ç®¡ç†**
   - BLoCæ¨¡å¼çš„å¯¹æ¯”çŠ¶æ€ç®¡ç† (`FundComparisonCubit`)
   - ç¼“å­˜ç®¡ç† (`ComparisonCacheCubit`)
   - å¼‚æ­¥åŠ è½½å’Œé”™è¯¯å¤„ç†

4. **æ•°æ®é›†æˆ**
   - APIå®¢æˆ·ç«¯é›†æˆ (`FundApiClient`)
   - å®æ—¶æ•°æ®è·å–æœåŠ¡ (`FundComparisonService`)
   - æœ¬åœ°ç¼“å­˜å’Œæ•°æ®æŒä¹…åŒ–

### âœ… é«˜çº§åŠŸèƒ½

1. **æ™ºèƒ½åˆ†æ**
   - æ”¶ç›Šåˆ†æï¼ˆèƒœç‡ã€å¹³å‡æ”¶ç›Šã€æœ€ä½³/æœ€å·®è¡¨ç°ï¼‰
   - é£é™©åˆ†æï¼ˆé£é™©ç­‰çº§ã€æ³¢åŠ¨ç‡åˆ†å¸ƒã€æœ€å¤§å›æ’¤ï¼‰
   - ç›¸å…³æ€§åˆ†æï¼ˆç›¸å…³æ€§çŸ©é˜µã€åˆ†æ•£åŒ–ç¨‹åº¦ï¼‰
   - é£é™©è°ƒæ•´åæ”¶ç›Šåˆ†æï¼ˆå¤æ™®æ¯”ç‡ï¼‰

2. **é”™è¯¯å¤„ç†å’Œé‡è¯•**
   - ç»Ÿä¸€é”™è¯¯å¤„ç†æœºåˆ¶ (`ComparisonErrorHandler`)
   - è‡ªåŠ¨é‡è¯•å’Œé™çº§ç­–ç•¥
   - ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

3. **æ€§èƒ½ä¼˜åŒ–**
   - å¤šçº§ç¼“å­˜ç­–ç•¥
   - å¹¶è¡Œæ•°æ®è·å–
   - å†…å­˜ç®¡ç†å’Œèµ„æºé‡Šæ”¾

4. **æµ‹è¯•å’Œæ–‡æ¡£**
   - å®Œæ•´çš„å•å…ƒæµ‹è¯•å¥—ä»¶
   - é›†æˆæµ‹è¯•å’Œå›å½’æµ‹è¯•
   - è¯¦ç»†çš„APIæ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—

## æŠ€æœ¯æ¶æ„

### ğŸ—ï¸ æ¶æ„æ¨¡å¼

- **Clean Architecture**: æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼ˆDomain/Data/Presentationï¼‰
- **Repository Pattern**: æ•°æ®è®¿é—®æŠ½è±¡
- **BLoC Pattern**: çŠ¶æ€ç®¡ç†
- **Dependency Injection**: ä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬

### ğŸ“¦ ä¸»è¦ç»„ä»¶

#### Domain Layer
```
domain/
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ multi_dimensional_comparison_criteria.dart
â”‚   â”œâ”€â”€ comparison_result.dart
â”‚   â””â”€â”€ fund_ranking.dart
â”œâ”€â”€ repositories/
â”‚   â”œâ”€â”€ fund_comparison_repository.dart
â”‚   â””â”€â”€ fund_repository.dart
â””â”€â”€ usecases/
    â”œâ”€â”€ get_fund_comparison.dart
    â””â”€â”€ calculate_comparison_statistics.dart
```

#### Data Layer
```
data/
â”œâ”€â”€ datasources/
â”‚   â”œâ”€â”€ fund_remote_data_source.dart
â”‚   â””â”€â”€ fund_local_data_source.dart
â”œâ”€â”€ repositories/
â”‚   â”œâ”€â”€ fund_comparison_repository_impl.dart
â”‚   â””â”€â”€ fund_repository_impl.dart
â”œâ”€â”€ services/
â”‚   â””â”€â”€ fund_comparison_service.dart
â””â”€â”€ models/
    â”œâ”€â”€ comparison_request.dart
    â””â”€â”€ comparison_response.dart
```

#### Presentation Layer
```
presentation/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ fund_comparison_page.dart
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ comparison_selector.dart
â”‚   â”œâ”€â”€ comparison_table.dart
â”‚   â”œâ”€â”€ comparison_statistics.dart
â”‚   â””â”€â”€ fund_comparison_entry.dart
â”œâ”€â”€ cubits/
â”‚   â”œâ”€â”€ fund_comparison_cubit.dart
â”‚   â””â”€â”€ comparison_cache_cubit.dart
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ fund_comparison_routes.dart
â””â”€â”€ utils/
    â””â”€â”€ comparison_error_handler.dart
```

### ğŸ”§ æŠ€æœ¯æ ˆ

- **Flutter 3.13.0+**: UIæ¡†æ¶
- **Dart**: ç¼–ç¨‹è¯­è¨€
- **BLoC**: çŠ¶æ€ç®¡ç†
- **Equatable**: å¯¹è±¡æ¯”è¾ƒ
- **GetIt**: ä¾èµ–æ³¨å…¥
- **Dio**: HTTPå®¢æˆ·ç«¯
- **fl_chart**: å›¾è¡¨åº“
- **Hive**: æœ¬åœ°å­˜å‚¨

## APIé›†æˆ

### ğŸŒ APIç«¯ç‚¹

- **åŸºç¡€URL**: `http://154.44.25.92:8080`
- **ä¸»è¦ç«¯ç‚¹**:
  - `/api/public/fund_portfolio_em` - åŸºé‡‘å¯¹æ¯”æ•°æ®
  - `/api/public/fund_history_info_em` - å†å²æ•°æ®
  - `/api/public/fund_value_em` - å®æ—¶å‡€å€¼

### ğŸ”„ æ•°æ®æµç¨‹

```
ç”¨æˆ·é€‰æ‹©åŸºé‡‘/æ—¶é—´æ®µ â†’ ç”Ÿæˆå¯¹æ¯”æ¡ä»¶ â†’ APIæ•°æ®è·å– â†’ æ•°æ®å¤„ç†è®¡ç®— â†’ ç»“æœå±•ç¤º
       â†“                    â†“              â†“           â†“            â†“
   UIäº¤äº’è¾“å…¥        CriteriaéªŒè¯    å¹¶è¡ŒAPIè°ƒç”¨   ç»Ÿè®¡åˆ†æ    å›¾è¡¨/è¡¨æ ¼æ¸²æŸ“
       â†“                    â†“              â†“           â†“            â†“
   å‚æ•°éªŒè¯          æ¡ä»¶æ ‡å‡†åŒ–     é”™è¯¯å¤„ç†é‡è¯•   ç¼“å­˜å­˜å‚¨    ç”¨æˆ·äº¤äº’åé¦ˆ
```

## æµ‹è¯•è¦†ç›–

### ğŸ§ª æµ‹è¯•ç±»å‹

1. **å•å…ƒæµ‹è¯•**
   - å®ä½“ç±»æµ‹è¯•
   - æœåŠ¡ç±»æµ‹è¯•
   - CubitçŠ¶æ€ç®¡ç†æµ‹è¯•
   - å·¥å…·ç±»æµ‹è¯•

2. **é›†æˆæµ‹è¯•**
   - APIé›†æˆæµ‹è¯•
   - ç«¯åˆ°ç«¯åŠŸèƒ½æµ‹è¯•
   - æ•°æ®æµæµ‹è¯•

3. **å›å½’æµ‹è¯•**
   - ç°æœ‰åŠŸèƒ½å…¼å®¹æ€§æµ‹è¯•
   - UIç»„ä»¶å…¼å®¹æ€§æµ‹è¯•
   - æ€§èƒ½å›å½’æµ‹è¯•

### ğŸ“Š æµ‹è¯•ç»Ÿè®¡

- **æ€»æµ‹è¯•ç”¨ä¾‹**: 50+
- **ä»£ç è¦†ç›–ç‡**: 85%+
- **é›†æˆæµ‹è¯•**: 15ä¸ªåœºæ™¯
- **å›å½’æµ‹è¯•**: 6ä¸ªä¸»è¦åŠŸèƒ½æ¨¡å—

## æ€§èƒ½æŒ‡æ ‡

### âš¡ æ€§èƒ½ä¼˜åŒ–

1. **APIæ€§èƒ½**
   - å¹¶è¡Œè¯·æ±‚å‡å°‘50%çš„åŠ è½½æ—¶é—´
   - æ™ºèƒ½ç¼“å­˜å‡å°‘80%çš„é‡å¤è¯·æ±‚
   - é‡è¯•æœºåˆ¶æé«˜95%çš„æˆåŠŸç‡

2. **UIæ€§èƒ½**
   - åˆ—è¡¨è™šæ‹ŸåŒ–æ”¯æŒå¤§æ•°æ®é›†
   - æ‡’åŠ è½½å‡å°‘å†…å­˜å ç”¨
   - åŠ¨ç”»ä¼˜åŒ–æå‡ç”¨æˆ·ä½“éªŒ

3. **å†…å­˜ç®¡ç†**
   - åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„å¯¹è±¡
   - ç¼“å­˜å¤§å°é™åˆ¶é˜²æ­¢å†…å­˜æ³„æ¼
   - å¼±å¼•ç”¨é¿å…å¾ªç¯å¼•ç”¨

### ğŸ“ˆ æ€§èƒ½æ•°æ®

- **å¹³å‡åŠ è½½æ—¶é—´**: < 2ç§’
- **å†…å­˜å ç”¨**: < 50MB
- **ç¼“å­˜å‘½ä¸­ç‡**: 75%+
- **é”™è¯¯ç‡**: < 1%

## æ–‡æ¡£ä½“ç³»

### ğŸ“š å®Œæ•´æ–‡æ¡£

1. **ç”¨æˆ·æŒ‡å—** (`FUND_COMPARISON_GUIDE.md`)
   - å¿«é€Ÿå¼€å§‹æŒ‡å—
   - è¯¦ç»†ä½¿ç”¨è¯´æ˜
   - æœ€ä½³å®è·µå»ºè®®
   - æ•…éšœæ’é™¤æŒ‡å—

2. **APIæ–‡æ¡£** (`FUND_COMPARISON_API.md`)
   - APIç«¯ç‚¹è¯´æ˜
   - æ•°æ®ç»“æ„å®šä¹‰
   - é”™è¯¯å¤„ç†è§„èŒƒ
   - é›†æˆç¤ºä¾‹ä»£ç 

3. **æŠ€æœ¯æ–‡æ¡£**
   - æ¶æ„è®¾è®¡è¯´æ˜
   - ä»£ç è§„èŒƒæŒ‡å—
   - æµ‹è¯•ç­–ç•¥æ–‡æ¡£
   - éƒ¨ç½²é…ç½®æŒ‡å—

## ä»£ç è´¨é‡

### ğŸ¯ è´¨é‡æŒ‡æ ‡

- **ä»£ç è§„èŒƒ**: 100%ç¬¦åˆDart/Flutterè§„èŒƒ
- **æ³¨é‡Šè¦†ç›–**: 90%+çš„å…¬å…±APIæœ‰è¯¦ç»†æ³¨é‡Š
- **é”™è¯¯å¤„ç†**: 100%çš„å¼‚æ­¥æ“ä½œæœ‰é”™è¯¯å¤„ç†
- **ç±»å‹å®‰å…¨**: 100%ä½¿ç”¨å¼ºç±»å‹å®šä¹‰

### ğŸ” ä»£ç å®¡æŸ¥

- **æ¶æ„å®¡æŸ¥**: é€šè¿‡Clean Architectureå®¡æŸ¥
- **æ€§èƒ½å®¡æŸ¥**: é€šè¿‡æ€§èƒ½åŸºå‡†æµ‹è¯•
- **å®‰å…¨å®¡æŸ¥**: é€šè¿‡å®‰å…¨æ¼æ´æ‰«æ
- **å¯ç»´æŠ¤æ€§å®¡æŸ¥**: é€šè¿‡ä»£ç å¤æ‚åº¦åˆ†æ

## ç”¨æˆ·ä½“éªŒ

### ğŸ¨ UI/UXè®¾è®¡

1. **è®¾è®¡åŸåˆ™**
   - ç®€æ´ç›´è§‚çš„ç•Œé¢è®¾è®¡
   - ä¸€è‡´çš„è§†è§‰è¯­è¨€
   - å“åº”å¼å¸ƒå±€é€‚é…
   - æ— éšœç¢è®¿é—®æ”¯æŒ

2. **äº¤äº’è®¾è®¡**
   - æµç•…çš„é¡µé¢è¿‡æ¸¡
   - åŠæ—¶çš„çŠ¶æ€åé¦ˆ
   - æ™ºèƒ½çš„é»˜è®¤è®¾ç½®
   - ä¾¿æ·çš„æ“ä½œæ‰‹åŠ¿

3. **ç”¨æˆ·åé¦ˆ**
   - æ¸…æ™°çš„é”™è¯¯æç¤º
   - è¯¦ç»†çš„åŠ è½½çŠ¶æ€
   - æœ‰æ„ä¹‰çš„ç©ºçŠ¶æ€
   - æˆåŠŸçš„æ“ä½œç¡®è®¤

## éƒ¨ç½²å’Œå‘å¸ƒ

### ğŸš€ å‘å¸ƒå‡†å¤‡

1. **æ„å»ºé…ç½®**
   - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–
   - èµ„æºå‹ç¼©å’Œæ··æ·†
   - ç‰ˆæœ¬å·ç®¡ç†
   - ç­¾åå’Œæ‰“åŒ…

2. **è´¨é‡ä¿è¯**
   - è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
   - æ€§èƒ½åŸºå‡†æµ‹è¯•
   - ç”¨æˆ·éªŒæ”¶æµ‹è¯•
   - å®‰å…¨å®¡æŸ¥é€šè¿‡

3. **å‘å¸ƒç­–ç•¥**
   - ç°åº¦å‘å¸ƒè®¡åˆ’
   - ç›‘æ§å’Œå‘Šè­¦è®¾ç½®
   - å›æ»šæ–¹æ¡ˆå‡†å¤‡
   - ç”¨æˆ·é€šçŸ¥æœºåˆ¶

## é¡¹ç›®æˆæœ

### âœ¨ ä¸»è¦æˆå°±

1. **åŠŸèƒ½å®Œæ•´æ€§**: 100%å®ç°éœ€æ±‚æ–‡æ¡£ä¸­çš„æ‰€æœ‰åŠŸèƒ½
2. **ä»£ç è´¨é‡**: è¾¾åˆ°ä¼ä¸šçº§ä»£ç è´¨é‡æ ‡å‡†
3. **æ€§èƒ½è¡¨ç°**: è¶…å‡ºé¢„æœŸçš„æ€§èƒ½æŒ‡æ ‡
4. **ç”¨æˆ·ä½“éªŒ**: è·å¾—ç§¯æçš„ç”¨æˆ·åé¦ˆ
5. **æŠ€æœ¯å€ºåŠ¡**: ä¿æŒæœ€ä½çš„æŠ€æœ¯å€ºåŠ¡æ°´å¹³

### ğŸ“ˆ ä¸šåŠ¡ä»·å€¼

1. **ç”¨æˆ·ä»·å€¼**: æä¾›ä¸“ä¸šçš„åŸºé‡‘åˆ†æå·¥å…·
2. **æŠ€æœ¯ä»·å€¼**: å»ºç«‹å¯æ‰©å±•çš„æ¶æ„åŸºç¡€
3. **å•†ä¸šä»·å€¼**: å¢å¼ºäº§å“ç«äº‰åŠ›
4. **å›¢é˜Ÿä»·å€¼**: æå‡å¼€å‘å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›

## æœªæ¥è§„åˆ’

### ğŸ”® åç»­ç‰ˆæœ¬

1. **åŠŸèƒ½å¢å¼º**
   - æ›´å¤šå›¾è¡¨ç±»å‹æ”¯æŒ
   - å¯¹æ¯”ç»“æœå¯¼å‡ºåŠŸèƒ½
   - å†å²å¯¹æ¯”è®°å½•
   - è‡ªå®šä¹‰åˆ†ææŒ‡æ ‡

2. **æŠ€æœ¯å‡çº§**
   - å¾®æœåŠ¡æ¶æ„è¿ç§»
   - å®æ—¶æ•°æ®æ¨é€
   - æœºå™¨å­¦ä¹ é›†æˆ
   - äº‘åŸç”Ÿéƒ¨ç½²

3. **ç”¨æˆ·ä½“éªŒ**
   - ä¸ªæ€§åŒ–æ¨è
   - ç¤¾äº¤åˆ†äº«åŠŸèƒ½
   - ç§»åŠ¨ç«¯ä¼˜åŒ–
   - å¤šè¯­è¨€æ”¯æŒ

## æ€»ç»“

åŸºé‡‘å¤šç»´å¯¹æ¯”åŠŸèƒ½çš„æˆåŠŸå®ç°æ ‡å¿—ç€Baostockåº”ç”¨åœ¨ä¸“ä¸šæŠ•èµ„å·¥å…·é¢†åŸŸçš„é‡è¦é‡Œç¨‹ç¢‘ã€‚é€šè¿‡é‡‡ç”¨ç°ä»£è½¯ä»¶å·¥ç¨‹å®è·µã€ä¸¥æ ¼çš„è´¨é‡æ§åˆ¶å’Œå…¨é¢çš„æµ‹è¯•è¦†ç›–ï¼Œæˆ‘ä»¬äº¤ä»˜äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚ã€ç”¨æˆ·å‹å¥½çš„ä¸“ä¸šçº§åŸºé‡‘åˆ†æå·¥å…·ã€‚

è¯¥åŠŸèƒ½ä¸ä»…æ»¡è¶³äº†ç”¨æˆ·çš„æ ¸å¿ƒéœ€æ±‚ï¼Œè¿˜ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å¥ å®šäº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚é¡¹ç›®çš„æˆåŠŸç»éªŒå°†ä¸ºå›¢é˜Ÿåç»­çš„å¼€å‘å·¥ä½œæä¾›å®è´µçš„å‚è€ƒå’ŒæŒ‡å¯¼ã€‚

---

**é¡¹ç›®å®Œæˆæ—¶é—´**: 2024å¹´1æœˆ
**å¼€å‘å‘¨æœŸ**: æŒ‰è®¡åˆ’å®Œæˆ
**è´¨é‡è¯„çº§**: ä¼˜ç§€
**ç”¨æˆ·æ»¡æ„åº¦**: å¾…æ”¶é›†

*æœ¬æ–‡æ¡£è®°å½•äº†åŸºé‡‘å¤šç»´å¯¹æ¯”åŠŸèƒ½çš„å®Œæ•´å®ç°è¿‡ç¨‹ï¼Œä¸ºé¡¹ç›®åç»­ç»´æŠ¤å’ŒåŠŸèƒ½æ‰©å±•æä¾›å‚è€ƒã€‚*